<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ø¨Ø­Ø¨Ùƒ Ø§ÙˆÙŠ Ø·ÙÙ„ØªÙŠ â€” ULTRA LOVE</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
  /* --- Variables Ùˆ Styles Ø£Ø³Ø§Ø³ÙŠØ© (Ù…Ø­Ø§ÙØ¸Ø© Ø¹Ù„Ù‰ ØªØµÙ…ÙŠÙ…Ùƒ) --- */
  *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma, Geneva, Verdana, sans-serif}
  :root{
    --primary:#ff4d6d; --secondary:#ff8fa3; --accent:#ffb3c1; --dark:#590d22; --light:#fff0f3;
    --glass: rgba(255,255,255,0.09);
  }
  body{
    background: linear-gradient(135deg,var(--primary) 0%,var(--dark) 100%);
    color:white; min-height:100vh; overflow-x:hidden; -webkit-font-smoothing:antialiased;
  }
  a{color:inherit;text-decoration:none}
  .container{max-width:1200px;margin:0 auto;padding:20px}

  /* --- Login screen (ÙƒÙ…Ø§ Ø¹Ù†Ø¯Ùƒ) --- */
  #loginScreen{min-height:100vh;display:flex;justify-content:center;align-items:center;overflow:hidden}
  .password-container{background:var(--glass);backdrop-filter:blur(15px);border-radius:25px;padding:40px;width:90%;max-width:480px;box-shadow:0 15px 35px rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.12);text-align:center;position:relative;z-index:10}
  .lock-icon{font-size:4rem;margin-bottom:20px;color:var(--light);animation:pulse 2s infinite}
  h1{font-size:2.2rem;margin-bottom:8px;font-weight:600}
  h2{font-size:1.3rem;margin-bottom:18px;color:var(--light);font-weight:500}
  .password-input{width:100%;padding:16px 20px;background:rgba(255,255,255,.14);border:2px solid rgba(255,255,255,.25);border-radius:14px;color:white;font-size:1.05rem;outline:none;transition:all .25s}
  .toggle-password{position:absolute;left:15px;top:50%;transform:translateY(-50%);background:none;border:none;color:rgba(255,255,255,.7);cursor:pointer;font-size:1.1rem}
  .submit-btn{width:100%;padding:14px;background:var(--light);color:var(--dark);border:none;border-radius:12px;font-size:1.05rem;font-weight:700;margin-top:12px;cursor:pointer}
  .error-message{color:#ffcccc;margin-top:12px;font-size:.95rem;display:none}

  /* --- Navbar & hero (Ø­Ø§ÙØ¸Øª Ø¹Ù„Ù‰ Ø§Ù„ØªØµÙ…ÙŠÙ…) --- */
  #mainApp{display:none;opacity:0;transition:opacity .6s ease}
  .navbar{display:flex;justify-content:space-between;align-items:center;padding:20px 0;position:relative;z-index:100}
  .logo{display:flex;align-items:center;gap:10px;font-size:1.6rem;font-weight:bold}
  .nav-links{display:flex;gap:20px}
  .nav-links a{color:white;font-weight:500;position:relative;padding:6px 8px;border-radius:8px}
  .nav-links a:hover{color:var(--accent);background:rgba(255,255,255,.03)}
  .hero{display:flex;align-items:center;justify-content:space-between;min-height:70vh;padding:20px 0;position:relative}
  .hero h1{font-size:3rem;line-height:1.1;margin-bottom:12px}
  .hero p{font-size:1.05rem;margin-bottom:18px;opacity:.95}
  .cta-buttons{display:flex;gap:14px}
  .btn{padding:12px 22px;border-radius:999px;border:none;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:8px}
  .btn-primary{background:var(--light);color:var(--dark)}
  .btn-secondary{background:transparent;color:var(--light);border:2px solid rgba(255,255,255,.13)}

  /* --- floating hearts --- */
  .floating-background{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1}
  .floating-heart{position:absolute;font-size:1.2rem;opacity:.28;animation:floatRandom 8s linear infinite}
  /* Animation for hearts */
  @keyframes floatRandom {
    0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0.28; }
    50% { transform: translateY(-300px) translateX(20px) rotate(5deg); opacity: 0.6; }
    100% { transform: translateY(-600px) translateX(-20px) rotate(-5deg); opacity: 0; }
  }

  /* --- sections Ø¬Ø¯ÙŠØ¯Ø© (Ø§Ù„ØµÙØ­Ø§Øª ÙƒÙ€ Ø³ÙƒØ§Ø´Ù†) --- */
  section{padding:60px 0}
  .features{padding:40px;background:rgba(255,255,255,.06);border-radius:20px;margin:30px 0}
  .features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px}
  .feature-card{background:rgba(255,255,255,.06);padding:20px;border-radius:14px;text-align:center;backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,.06);transition:transform .3s}

  /* --- ULTRA effects: glow + typewriter (Ù…Ø·ÙˆØ±ÙŠÙ†) --- */
  .ultra-glow{
    text-shadow:0 0 12px var(--accent),0 0 30px var(--secondary),0 0 50px #ff2a6f;
    animation:ultraPulse 2.6s infinite alternate ease-in-out;
  }
  @keyframes ultraPulse{0%{opacity:.85;transform:scale(.995)}100%{opacity:1;transform:scale(1.02)}}

  .typewriter{
    overflow:hidden; border-right:.12em solid var(--accent); white-space:nowrap;
    animation:typing 4s steps(40,end),blink-caret .8s step-end infinite;
    display:inline-block;
    -webkit-background-clip:text;background-clip:text;color:transparent;
    background:linear-gradient(90deg,#ff7aa3,#ffe6f6);background-size:200% 100%;
  }
  @keyframes typing{from{width:0}to{width:100%}}
  @keyframes blink-caret{50%{border-color:transparent}}

  /* --- Popups Ùˆ modals --- */
  .popup-love{
    position:fixed;right:20px;bottom:20px;background:linear-gradient(180deg,rgba(255,255,255,.12),rgba(255,255,255,.06));
    color:white;padding:14px 18px;border-radius:12px;backdrop-filter:blur(8px);box-shadow:0 10px 30px rgba(0,0,0,.4);z-index:9999;max-width:320px;
    display:flex;gap:10px;align-items:center;animation:popIn .45s ease;
  }
  @keyframes popIn{from{transform:translateY(10px) scale(.98);opacity:0}to{transform:translateY(0) scale(1);opacity:1}}

  /* --- Love game --- */
  .love-game{background:rgba(255,255,255,.04);padding:18px;border-radius:14px;text-align:center}
  .game-area{height:220px;background:linear-gradient(180deg,rgba(255,255,255,.02),transparent);position:relative;border-radius:10px;overflow:hidden;margin-top:12px}
  .game-heart{position:absolute;font-size:26px;cursor:pointer;transform:translate(-50%,-50%);user-select:none}
  .game-controls{display:flex;gap:10px;justify-content:center;margin-top:12px;flex-wrap:wrap}
  .score-timer{display:flex;gap:12px;justify-content:center;margin-top:8px;font-weight:700}

  /* --- Letter editor --- */
  .interactive-letter{background:rgba(255,255,255,.03);padding:16px;border-radius:12px}
  textarea#loveLetter{width:100%;min-height:120px;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,.06);background:transparent;color:white;resize:vertical}
  .letter-controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}

  /* --- Achievements --- (ØªÙ… Ø§Ù„Ø¥Ø¨Ù‚Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„Ø³ØªØ§ÙŠÙ„ ØªØ­Ø³Ø¨Ù‹Ø§ Ù„ÙØªØ­Ù‡Ø§ Ø¹Ø¨Ø± JS) */
  .achievement-popup{position:fixed;left:20px;bottom:20px;background:linear-gradient(90deg,#fff6,#ffdb);color:#400; padding:12px 16px;border-radius:12px;box-shadow:0 8px 30px rgba(0,0,0,.3);z-index:9999}

  /* --- Secret code input --- */
  .secret-input{display:flex;gap:8px;align-items:center;justify-content:center;margin-top:12px}
  input.secret{padding:8px;border-radius:10px;border:1px solid rgba(255,255,255,.08);background:transparent;color:white}

  /* --- small responsive tweaks --- */
  @media (max-width:768px){.hero{flex-direction:column;text-align:center}.nav-links{display:none}.floating-hearts{width:260px;height:260px}}
  @media (max-width:480px){.password-container{padding:24px}}
</style>
</head>
<body>

<div class="floating-background" id="floatingBackground"></div>

<div id="loginScreen">
  <div class="password-container">
    <div class="lock-icon"><i class="fas fa-lock"></i></div>
    <h1>Ø¯Ø®Ù„ÙŠ ÙƒÙ„Ù…Ù‡ Ù…Ø±ÙˆØ± Ù‚Ù„Ø¨ÙŠğŸ’</h1>
    <h2 class="ultra-glow typewriter" style="--tw:">Ø¨Ø­Ø¨Ùƒ</h2>

    <form id="passwordForm">
      <div style="position:relative;margin:14px 0">
        <input id="passwordInput" class="password-input" type="password" placeholder="I love you Mai" required>
        <button type="button" id="togglePassword" class="toggle-password"><i class="far fa-eye"></i></button>
      </div>

      <button type="submit" class="submit-btn">Love</button>
      <div class="error-message" id="errorMessage">Ø¨Ø­Ø¨Ùƒ Ø§ÙƒØªØ¨ÙŠ ÙƒÙ„Ù…Ù‡ Ù…Ø±ÙˆØ± Ù‚Ù„Ø¨ÙŠ ØªØ§Ù†ÙŠ Ùˆ Ø±ÙƒØ²ÙŠ</div>
      <div style="margin-top:12px;font-size:.9rem;color:#ffe6f0">I love you, Mai </div>
    </form>

    <div style="margin-top:14px;font-size:.9rem;color:var(--light)">
      <a href="#" onclick="document.getElementById('passwordInput').value='ØªØ¯ÙØ¹ÙŠ ÙƒØ§Ù… Ùˆ Ø§Ù‚Ù„ÙƒØŸğŸ˜‚';return false">Ù†Ø³ÙŠØªÙŠØŸ Ø§Ø¶ØºØ·ÙŠ Ù‡Ù†Ø§ Ù„Ù„ØªØ°ÙƒÙŠØ± ğŸ’Œ</a>
    </div>
  </div>
</div>

<div id="mainApp">
  <div class="container">
    <nav class="navbar">
      <div class="logo"><i class=""></i><span>Ù†ÙˆØ±ØªÙŠ Ù‚Ù„Ø¨ÙŠ Ø·ÙÙ„ØªÙŠğŸ¥º</span></div>
      <div class="nav-links">
        <a href="#home" onclick="scrollToSection('home')">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
        <a href="#home" onclick="scrollToSection('features')">Ø§Ù„Ù…ÙŠØ²Ø§Øª</a>
        <a href="#loveChapters" onclick="scrollToSection('loveChapters')">Ù‚ØµØµ ÙˆØ¨ÙŠÙˆØª</a>
        <a href="#messages" onclick="scrollToSection('messages')">Ø±Ø³Ø§Ø¦Ù„</a>
        <a href="#game" onclick="scrollToSection('game')">Ø§Ù„Ø¹Ø¨</a>
      </div>
    </nav>

    <section id="home" class="hero">
      <div class="hero-content">
        <h1 class="ultra-glow">I love you so, so much Banoty     ğŸ’âœ¨ğŸ§¸</h1>
        <p class="typewriter">Ø§Ù†Ø²Ù„ÙŠ ÙƒÙ…Ø§Ù† Ø­Ø¨Ù‡... Ù…Ø¹Ù„Ø´ Ø­Ø¨Ù‡ ÙƒÙ…Ø§Ù† ÙƒÙ…Ø§Ù† Ø­Ø¨Ù‡ Ù†ÙˆÙ†Ùˆ ğŸ¤ğŸ¥º</p>

        <div class="cta-buttons" style="margin-top:18px">
          <button class="btn btn-primary" onclick="scrollToSection('messages')">Ø¨Ø­Ø¨Ùƒ Ø¨Ù†ÙˆØªØªÙŠ</button>
          <button class="btn btn-secondary" onclick="scrollToSection('loveChapters')">Ø¨Ø¹Ø´Ù‚Ùƒ Ø·ÙÙ„ØªÙŠ</button>
          <button id="musicToggle" class="btn" style="background:transparent;border:1px solid rgba(255,255,255,.06)"> <i class="fas fa-music"></i> <span id="musicToggleLabel">ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰</span></button>
        </div>

      </div>

      <div class="hero-image">
        <div class="floating-hearts" style="width:360px;height:360px;position:relative">
          <div class="heart" style="top:50px;left:50px;animation-delay:0s">â¤ï¸</div>
          <div class="heart" style="top:140px;left:200px;animation-delay:1s">ğŸ’–</div>
          <div class="heart" style="top:240px;left:100px;animation-delay:2s">ğŸ’•</div>
          <div class="heart" style="top:90px;left:250px;animation-delay:3s">ğŸ’—</div>
          <div class="heart" style="top:300px;left:180px;animation-delay:4s">ğŸ’“</div>
        </div>
      </div>
    </section>

    <section id="features" class="features">
      <h2 class="section-title">Ø¯ÙŠ Ø·Ø¨Ø¹Ø§ Ø­Ø§Ø¬Ù‡ ØµØºÙ†Ù†Ù‡ Ø¹ Ø·ÙÙ„ØªÙŠ Ø¨Ø³ Ù‚Ù„Øª Ù…Ù…ÙƒÙ† ØªÙØ±Ø­Ùƒ</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">ğŸ’‘</div>
          <h3>Ù„Ùˆ Ø¹Ù„Ù… Ø§Ù„Ø­Ø¨ ÙƒÙ… Ø§Ø­Ø¨Ø¨ØªÙƒÙŠ Ù„ØªÙ…Ù†ÙŠ Ø§Ù„Ø­Ø¨ Ø§Ù† ÙŠÙƒÙˆÙ† Ø­Ø¨ÙŠØ¨ÙŠ</h3>
          <p>ÙŠØ§ ÙØ§ØªÙ†Ù‡ Ø¨Ø§Ù„Ø­Ø¨ Ù‚Ù„Ø¨ÙŠ Ù‚Ø¯ Ù…Ù„Ùƒ"
"Ù‡Ù„ Ø§Ù†ØªÙŠ Ù…Ù† Ø­ÙˆØ§ÙˆØ¢Ø¯Ù… Ø£Ù… Ù…Ù„Ùƒ"
"Ø¹ÙŠÙ†ÙŠ Ø¥Ø°Ø§ Ù†Ø¸Ø±Øª Ù„Ø­Ø³Ù†Ùƒ Ø³Ø¨Ø­Øª"
"Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ø°ÙŠ Ø®Ù„Ù‚ Ø§Ù„Ø¬Ù…Ø§Ù„ ÙˆØ¬Ù…Ù„Ùƒâ¤ï¸âœ¨"</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸŒ</div>
          <h3>Ø´Ø¹Ø± Ø®Ø§Øµ Ø¨ÙƒÙŠ</h3>
          <p>Ø¨Ù…ÙˆØª ÙÙŠÙƒÙŠ Ø¨Ù†ÙˆØªØªÙŠ Ø¨Ø¯Ù…Ù†Ùƒ Ø¨Ø­Ø¨Ùƒ Ø§ÙˆÙŠ ÙŠ ÙƒÙ„ Ø­ÙŠØ§ØªÙŠğŸ«‚âœ¨</p>
          <button class="btn btn-primary" onclick="scrollToSection('loveChapters')">Ø§Ø¶ØºØ·ÙŠ Ù‡Ù†Ø§</button>
        </div>
        <div class="feature-card">
          <div class="feature-icon">ğŸ</div>
          <h3>Ù…ÙØ§Ø¬Ø¢Øª ÙŠÙˆÙ…ÙŠØ©</h3>
          <p>Ù‡ØªÙˆØµÙ„Ù„Ùƒ Ø±Ø³Ø§Ù„Ø© Ø£Ùˆ ØªØ£Ø«ÙŠØ± Ù…ÙØ§Ø¬Ø¦ ÙƒÙ„ Ø³Ø§Ø¹Ø©</p>
          <button class="btn btn-secondary" onclick="triggerSurprise()">Ø¬Ø±Ø¨ÙŠ ÙƒØ¯Ø§ğŸ«£</button>
        </div>
      </div>
    </section>

    <section id="loveChapters" class="features">
      <h2 class="section-title ultra-glow">Je t'aime, May, dans toutes les langues</h2>
      <div style="display:flex;gap:12px;flex-wrap:wrap;align-items:flex-start">
        <div style="flex:1;min-width:260px">
          <div class="interactive-letter" id="chaptersContainer">
            <div id="pages" style="display:flex;flex-direction:column;gap:12px">
              <div class="page" style="padding:14px;border-radius:10px;background:rgba(255,255,255,.03)">
                Ù‚Ù„Ø¨ÙŠ Ù„Ø§ ÙŠØªØ³Ø¹ Ø£Ù„Ø§ Ù„ÙƒÙŠ Ù„Ø§ Ø§Ø±ÙŠ Ø§Ù„Ø§ Ø§Ù†ØªÙŠ. Ø§Ù†ØªÙŠ ÙÙ‚Ø· Ø§Ø±Ø§ÙƒÙŠ Ø¯ÙˆÙ„ØªÙŠ Ùˆ Ø§Ù‡Ù„ÙŠ Ùˆ Ù†Ø§Ø³ÙŠ Ùˆ Ø¹Ø§Ù„Ù…ÙŠ Ø§Ù†ØªÙŠ Ø´Ù…Ø³ÙŠ Ùˆ Ù‚Ù…Ø±ÙŠ Ø§Ù†ØªÙŠ Ù„ÙŠÙ„ÙŠ Ùˆ ØµØ¨Ø­ÙŠ Ùˆ Ù…Ø³Ø§Ø¦ÙŠ Ø§Ù†ØªÙŠ Ù‡ÙˆØ§Ø¦ÙŠ Ø§Ø­Ø¨Ùƒ ØµÙØ§Ø¡ Ø§Ù„Ø­Ø¨ Ù„Ø§ ÙÙŠ Ù…ØµØ§Ù„Ø­ Ø¯Ù†ÙŠØ§ÙˆÙŠÙ‡ ÙˆÙ„Ø§ Ø§Ø®Ø±ÙŠÙ‡ ÙˆÙ„Ø§ Ù…Ø§Ù„ÙŠÙ‡ Ø­Ø¨ÙŒ ØµØ§ÙÙŠ Ø­Ø¨ÙŒ Ø·Ø§Ù‡Ø± ÙÙƒÙ†ÙŠ ÙƒÙ…Ø§ Ø§Ù†ØªÙŠ Ø§Ø­Ø¨ÙƒÙŠ Ùˆ Ø§Ø¹Ø´Ù‚ÙƒÙŠ Ø§Ù†ØªÙŠâ¤âœ¨
              </div>
              <div class="page" style="padding:14px;border-radius:10px;background:rgba(255,255,255,.03)">
               â€â€ÙŠØ§Ø±Ø¨ ÙŠØ§ Ø§Ù„Ù„Ù‡ Ø§Ù‚Ø³Ù… Ø¹Ù„ÙŠÙƒ Ø¨Ù…Ù† Ø®Ù„Ù‚Øª Ø§Ù„ÙƒÙˆÙ† Ù„Ø§Ø¬Ù„Ù‡Ù… Ø§Ù‚Ø³Ù… Ø¹Ù„ÙŠÙƒ Ø¨ÙƒÙ„ Ø´ÙŠØ¡ Ø®Ù„Ù‚ØªÙ‡ Ø§Ù‚Ø³Ù… Ø¹Ù„ÙŠÙƒ Ø¨ÙƒÙ„ Ù…Ø¤Ù…Ù† ÙˆÙ…Ø¤Ù…Ù†Ø© Ø§Ù‚Ø³Ù… Ø¹Ù„ÙŠÙƒ Ø¨Ùƒ Ø§Ù†Øª Ø§Ù‚Ø³Ù… Ø¹Ù„ÙŠÙƒ Ø¨Ø¹Ø²ØªÙƒ ÙˆØ¬Ù„Ø§Ù„Ùƒ Ø§Ù‚Ø³Ù… Ø¹Ù„ÙŠÙƒ Ø¨Ø±Ø­Ù…ØªÙƒ Ø§Ù„ØªÙŠ ÙˆØ³Ø¹Øª ÙƒÙ„ Ø´ÙŠØ¡ Ø§Ù‚Ø³Ù… Ø¹Ù„ÙŠÙƒ Ø¨Ø¬Ø¨Ø±ÙˆØªÙƒ Ø§Ù‚Ø³Ù… Ø¹Ù„ÙŠÙƒ Ø¨Ø­Ù†ÙŠØªÙƒ Ø¹Ù„Ù‰ ÙƒÙ„ Ø§Ù„Ø®Ù„Ù‚ Ø§Ù‚Ø³Ù… Ø¹Ù„ÙŠÙƒ Ø¨Ø§Ù„Ø§Ù†Ø¨ÙŠØ§Ø¡ Ø¬Ù…ÙŠØ¹Ø§Ù‹ Ù…Ù† Ù†Ø¨ÙŠÙƒ Ø§Ø¯Ù… Ø­ØªÙ‰ Ù†Ø¨ÙŠÙƒ Ù…Ø­Ù…Ø¯ Ø®Ø§ØªÙ… Ø§Ù„Ù…Ø±Ø³Ù„ÙŠÙ† ÙˆØ§Ù„Ù†Ø¨ÙŠÙŠÙ† Ø¥Ù† ØªØ¬Ø¹Ù„Ù‡Ø§ Ù†ØµÙŠØ¨ÙŠ ÙˆØ­Ù„Ø§Ù„ÙŠ ÙˆØ£Ù… Ø§Ø·ÙØ§Ù„ÙŠ ÙˆÙ‚Ø±Ø© Ø¹ÙŠÙ†ÙŠ Ø¨Ø§Ù„Ù‚Ø±ÙŠØ¨ Ø§Ù„Ø¹Ø§Ø¬Ù„ ÙŠØ§ Ø§Ù„Ù„Ù‡ ÙŠØ§ Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠÙ† ÙˆØ§Ù† Ù„Ù… ÙŠÙƒÙ† Ù„ÙŠ ÙÙŠÙ‡Ø§ Ø®ÙŠØ±Ø§ Ù„ÙŠ ÙØ§Ø¬Ø¹Ù„ ÙÙŠÙ‡Ø§ Ø§Ù„Ø®ÙŠØ± Ù„ÙŠ ÙˆØ§ÙƒØªØ¨Ù‡Ø§ Ø²ÙˆØ¬ØªØ§ Ù„ÙŠ ÙŠØ§Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠÙ†ğŸ’MaiğŸ¤²ğŸ’˜
              </div>
              <div class="page" style="padding:14px;border-radius:10px;background:rgba(255,255,255,.03)">
                ÙˆØªØ®Ø§Ù Ø§Ù†ÙŠ Ù‚Ø¯ Ø§ÙƒÙ„Ù… ØºÙŠØ±Ù‡Ø§ ÙˆØ³Ø· Ø§Ù„Ø²Ø­Ø§Ù… ÙˆÙ„Ø§ Ù„Ù…Ø­Øª Ø³ÙˆØ§Ù‡Ø§ Ø§ÙÙ†ÙŠØª Ø¹Ù…Ø±ÙŠ ÙÙŠ Ø·Ø±ÙŠÙ‚Ù Ù…Ø¸Ù„Ù…Ù Ø­ØªÙŠ Ù„Ù‚ÙŠØª Ø§Ù„Ù†ÙˆØ± ÙÙŠ Ù„Ù‚ÙŠØ§Ù‡Ø§ Ø§ÙŠ ÙˆØ§Ù„Ù„Ù‡ ÙÙ‡ÙŠ Ø´Ø±ÙŠÙƒØ© Ø§Ù„Ø±ÙˆØ­ ÙˆÙ†Ø¨Ø¶ Ø§Ù„Ù‚Ù„Ø¨ Ùˆ Ù…Ø¤Ù†Ø³Ø© Ø§Ù„Ø§ÙŠØ§Ù… ÙˆÙ‡ÙŠ Ø§Ù…ÙŠØ±ØªÙŠ Ùˆ Ø·ÙÙ„ØªÙŠ Ùˆ ØµØºÙŠØ±ØªÙŠ Ùˆ Ø³ÙŠØ¯ØªÙŠ Ùˆ Ù…Ù„ÙŠÙƒØ© Ù‚Ù„Ø¨ÙŠ ÙØ§Ù„Ù„Ù‡Ù… Ø§Ø­ÙØ¸Ù‡Ø§ Ø¨Ø¹ÙŠÙ†Ùƒ Ø§Ù„ØªÙŠ Ù„Ø§ ØªÙ†Ø§Ù… ÙˆØ§Ù„Ù„Ù‡Ù… Ù‚Ù„Ø¨Ù‡Ø§ Ø­ØªÙŠ ÙŠØ·Ù…Ø¦Ù† Ù‚Ù„Ø¨ÙŠ ÙŠØ§Ù„Ù„Ù‡ Ø§Ù„Ù„Ù‡Ù… Ù‚Ù„Ø¨Ù‡Ø§ Ø­ØªÙŠ ÙŠØ·Ù…Ø¦Ù† Ù‚Ù„Ø¨ÙŠ ÙŠØ§Ù„Ù„Ù‡  Ø§Ù„Ù„Ù‡Ù… Ù‚Ù„Ø¨Ù‡Ø§ Ø­ØªÙŠ ÙŠØ·Ù…Ø¦Ù† Ù‚Ù„Ø¨ÙŠ ÙŠØ§Ù„Ù„Ù‡âœ¨â™¥
              </div>
            </div>

            <div style="display:flex;gap:8px;margin-top:10px">
              <button class="btn btn-primary" onclick="addPagePrompt()">â• Ø§Ø¶ÙÙŠ ØµÙØ­Ø©</button>
              <button class="btn" style="background:rgba(255,255,255,.06)" onclick="scrollToSection('home')">Ø±Ø¬ÙˆØ¹</button>
            </div>
          </div>
        </div>

        <div style="flex:1;min-width:300px">
          <div class="interactive-letter">
            <h3>ğŸ“ Ø§ÙƒØªØ¨ÙŠ Ù„ÙŠ Ø±Ø³Ø§Ù„Ø© Ø­Ø¨ ğŸ’Œ</h3>
            <textarea id="loveLetter">Ø¨Ø­Ø¨Ùƒ Ø§ÙˆÙŠ ÙŠØ§ Ø·ÙÙ„ØªÙŠ â¤ï¸</textarea>
            <div class="letter-controls">
              <button class="btn btn-primary" onclick="saveLetter()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</button>
              <button class="btn btn-secondary" onclick="decorateLetter()">ğŸ¨ ØªØ²ÙŠÙŠÙ†</button>
              <button class="btn" onclick="shareLetter()">ğŸ“¤ Ù…Ø´Ø§Ø±ÙƒØ©</button>
            </div>
            <div style="margin-top:10px;color:rgba(255,255,255,.7);font-size:.95rem">Ø§Ù„Ø±Ø³Ø§ÙŠÙ„ Ù…Ø­ÙÙˆØ¸Ù‡ Ø¹Ù„ÙŠ ÙÙˆÙ†Ùƒ Ø¨Ø³</div>
          </div>

          <div style="margin-top:12px" class="interactive-letter">
            <h4>ğŸ” Ø±Ø³Ø§Ø¦Ù„ Ø³Ø±ÙŠØ© â€” Ø£Ø¯Ø®Ù„ÙŠ ÙƒÙˆØ¯ Ø§Ù„Ø­Ø¨</h4>
            <div class="secret-input">
              <input class="secret" id="secretInput" placeholder="Ø§ÙƒØªØ¨ÙŠ ÙƒÙˆØ¯ Ø§Ù„Ø­Ø¨ Ø§Ù„Ø³Ø±ÙŠ...">
              <button class="btn btn-primary" onclick="checkSecret()">ÙØªØ­</button>
            </div>
            <div id="secretResult" style="margin-top:8px;color:var(--accent)"></div>
          </div>
        </div>
      </div>
    </section>

    <section id="messages" class="features">
      <h2 class="section-title">ğŸ’Œ Ø±Ø³Ø§Ø¦Ù„ Ø­Ø¨</h2>
      <div style="display:flex;gap:14px;flex-wrap:wrap">
        <div style="flex:1;min-width:300px">
          <div style="padding:14px;border-radius:12px;background:rgba(255,255,255,.03)">
            <h3>Ø±Ø³Ø§Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©</h3>
            <p>Ø§Ø¶ØºØ·ÙŠ Ø§Ù„Ø²Ø± ØªØ­Øª Ø¹Ù„Ø´Ø§Ù† ØªØ´ÙˆÙÙŠ...ğŸ˜˜</p>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button class="btn btn-primary" onclick="showRandomMessage()">ğŸ’– Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¢Ù†</button>
              <button class="btn btn-secondary" onclick="openMessagesPanel()">ğŸ“š ÙƒÙ„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„</button>
            </div>
          </div>
        </div>

        <div style="flex:1;min-width:300px">
          <div style="padding:14px;border-radius:12px;background:rgba(255,255,255,.03)">
            <h3>ØªÙØ¶ÙŠÙ„Ø§Øª</h3>
            <label style="display:flex;align-items:center;gap:8px;margin-top:8px"><input type="checkbox" id="prefMusic"> Ø³Ù…Ø§Ø­ Ù„Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ØªÙ„Ù‚Ø§Ø¦ÙŠ</label>
            <label style="display:flex;align-items:center;gap:8px;margin-top:8px"><input type="checkbox" id="prefSurprises"> Ù…ÙØ§Ø¬Ø¢Øª ÙŠÙˆÙ…ÙŠØ©</label>
            <div style="margin-top:8px">
              <button class="btn btn-primary" onclick="savePreferences()">Ø­ÙØ¸ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª</button>
            </div>
          </div>
        </div>
      </div>

      <div id="messagesPanel" style="display:none;margin-top:14px">
        <div style="padding:12px;border-radius:12px;background:rgba(255,255,255,.02)">
          <h4>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„</h4>
          <div id="messagesList" style="display:flex;flex-direction:column;gap:8px;margin-top:8px"></div>
        </div>
      </div>
    </section>

    <section id="game" class="features">
      <h2 class="section-title ultra-glow">ğŸ® Ù„Ø¹Ø¨Ø© Ø¬Ù…Ø¹ Ø§Ù„Ù‚Ù„ÙˆØ¨</h2>
      <div class="love-game">
        <p>Ø­Ø§ÙˆÙ„ÙŠ ØªØ¬Ù…ÙŠØ¹ 10 Ù‚Ù„ÙˆØ¨ ÙÙŠ 30 Ø«Ø§Ù†ÙŠØ©!</p>
        <div class="score-timer"><div>Ø§Ù„Ù‚Ù„ÙˆØ¨: <span id="score">0</span></div><div>Ø§Ù„ÙˆÙ‚Øª: <span id="timer">30</span></div></div>
        <div id="gameArea" class="game-area"></div>
        <div class="game-controls">
          <button class="btn btn-primary" id="startGameBtn" onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
          <button class="btn btn-secondary" onclick="stopGame()">Ø¥ÙŠÙ‚Ø§Ù</button>
        </div>
        <div style="margin-top:10px;color:rgba(255,255,255,.8)">ÙƒÙ„ Ø¶ØºØ·Ø© Ø¹Ù„Ù‰ Ù‚Ù„Ø¨ ØªØ´ØºÙ‘Ù„ ØµÙˆØª ØµØºÙŠØ± ÙˆØªØ¶ÙŠÙ Ù†Ù‚Ø·Ø©.</div>
      </div>
    </section>

    <footer style="margin-top:40px;padding:30px 0;border-top:1px solid rgba(255,255,255,.08)">
      <div class="container">
        <div style="display:flex;justify-content:space-between;flex-wrap:wrap;gap:12px">
          <div>Ø¨Ø­Ø¨Ùƒ Ø§ÙˆÙŠ Ø§ÙˆÙŠ Ø·ÙÙ„ØªÙŠ Ø¨Ù…ÙˆØª ÙÙŠÙƒÙŠ Ø¨Ù†ÙˆØªØªÙŠ Ø±Ø¨Ù†Ø§ ÙŠØ®Ù„ÙŠÙƒÙŠ Ù„ÙŠØ§ Ùˆ ÙŠØ¬Ø¹Ù„Ùƒ Ù…Ù† Ù†ØµÙŠØ¨ÙŠ ÙŠ Ù‚Ø¯Ø±ÙŠ ÙŠ Ù†ØµÙŠØ¨ÙŠ ÙŠ Ø¯Ù†ÙŠØªÙŠğŸ«‚ğŸ«‚ğŸ«‚ğŸ’</div>
          </div>
      </div>
    </footer>

  </div> </div> <audio id="bgMusic" loop preload="auto">
  <source src="romantic-music.mp3" type="audio/mpeg">
</audio>

<audio id="sfxClick" src="click.mp3" preload="auto"></audio>
<audio id="sfxHeart" src="heartbeat.mp3" preload="auto"></audio>
<audio id="sfxSuccess" src="success.mp3" preload="auto"></audio>

<script>
/* ------------------ Helper functions ------------------ */
function $(id){return document.getElementById(id)}
function scrollToSection(id){
  const el = document.getElementById(id);
  if(!el) return;
  el.scrollIntoView({behavior:'smooth',block:'start'});
}

/* ------------------ Floating hearts background ------------------ */
function createFloatingHearts(){
  const background = $('floatingBackground');
  const icons = ['â¤','ğŸ’–','ğŸ’—','ğŸ’“','ğŸ’','ğŸ’•','â™¡'];
  for(let i=0;i<24;i++){
    const d = document.createElement('div');
    d.className='floating-heart';
    d.innerText = icons[Math.floor(Math.random()*icons.length)];
    d.style.left = Math.random()*100+'vw';
    d.style.top = Math.random()*100+'vh';
    d.style.fontSize = (Math.random()*18+12)+'px';
    d.style.animationDelay = (Math.random()*8)+'s';
    background.appendChild(d);
    // ØªÙ… ØªØ¹Ø¯ÙŠÙ„ ÙˆÙ‚Øª Ø§Ù„Ø­Ø°Ù Ù„ÙŠØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ø£Ù†ÙŠÙ…ÙŠØ´Ù† floatRandom Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ù„ØªØ¬Ù†Ø¨ ØªØ±Ø§ÙƒÙ… Ø§Ù„Ø¹Ù†Ø§ØµØ±)
    setTimeout(()=>{ if(d.parentNode) d.parentNode.removeChild(d) }, 10000 + Math.random()*5000);
  }
}

/* Add more hearts periodically */
setInterval(()=>{ createFloatingHearts(); },4000);

/* ------------------ Password handling (ÙƒÙ…Ø§ ÙƒØ§Ù†) ------------------ */
$('togglePassword').addEventListener('click',function(){
  const p = $('passwordInput');
  const i = this.querySelector('i');
  if(p.type==='password'){ p.type='text'; i.classList.remove('fa-eye'); i.classList.add('fa-eye-slash'); }
  else { p.type='password'; i.classList.remove('fa-eye-slash'); i.classList.add('fa-eye'); }
});

document.getElementById('passwordForm').addEventListener('submit',function(e){
  e.preventDefault();
  const pwd = $('passwordInput').value.trim();
  const err = $('errorMessage');
  if(pwd === 'Mai Abdelhameed'){
    // ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    document.getElementById('loginScreen').style.opacity='0';
    setTimeout(()=>{ document.getElementById('loginScreen').style.display='none'; document.getElementById('mainApp').style.display='block';
      setTimeout(()=>{ document.getElementById('mainApp').style.opacity='1'; initMainApp(); },100);
    },600);
    // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ùˆ Ù…ÙØ¹Ù‘Ù„ ÙÙŠ prefs
    const prefs = JSON.parse(localStorage.getItem('loveAppPrefs')||'{}');
    if(prefs.musicEnabled) { playBgMusic(); }
  } else {
    err.style.display='block';
    $('passwordInput').classList.add('shake');
    setTimeout(()=>$('passwordInput').classList.remove('shake'),500);
    setTimeout(()=>{ $('passwordInput').value=''; $('passwordInput').focus(); },900);
  }
});

/* ------------------ INIT Main App ------------------ */
function initMainApp(){
  // init small UI stuff
  document.querySelectorAll('.feature-card').forEach(card=>{ card.style.opacity='0'; card.style.transform='translateY(24px)'; card.style.transition='all .6s ease' });
  window.addEventListener('scroll', handleScroll);
  handleScroll();

  // load preferences
  const prefs = JSON.parse(localStorage.getItem('loveAppPrefs')||'{}');
  if(prefs.musicEnabled) $('prefMusic').checked = true;
  if(prefs.notifications) $('prefSurprises').checked = prefs.notifications;

  // prepare messages list
  renderMessagesList();

  // achievements initial (ØªÙ… Ø§Ù„Ø¥Ø¨Ù‚Ø§Ø¡ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙØ© Ù„ÙƒÙ† Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø²Ø±)
  loadAchievements();

  // focus small
  $('passwordInput') && $('passwordInput').blur();
}

function handleScroll(){
  document.querySelectorAll('.feature-card').forEach(el=>{
    const pos = el.getBoundingClientRect();
    if(pos.top < window.innerHeight - 100){
      el.style.opacity='1'; el.style.transform='translateY(0)';
    }
  });
}

/* ------------------ ULTRA Music controls ------------------ */
const bgMusic = $('bgMusic');
function playBgMusic(){ if(bgMusic) { bgMusic.play().catch(()=>{}); $('musicToggleLabel').innerText='Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰'; } }
function pauseBgMusic(){ if(bgMusic){ bgMusic.pause(); $('musicToggleLabel').innerText='ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰'; } }
$('musicToggle').addEventListener('click', ()=>{
  if(bgMusic.paused) playBgMusic(); else pauseBgMusic();
});

/* ------------------ Messages: random popups + list ------------------ */
const loveMessages = [
  "Ø§Ù†ØªÙŠ Ø£ØºÙ„Ù‰ Ù…Ø§ ÙÙŠ Ø­ÙŠØ§ØªÙŠ Ø·ÙÙ„ØªÙŠ ğŸ«¶",
  "ÙƒÙ„ Ø«Ø§Ù†ÙŠÙ‡ Ø§Ø­Ø¨ÙƒÙŠ Ø§ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ù„ÙŠ Ù‚Ø¨Ù„Ù‡Ø§ ğŸ’•",
  "Ù‚Ù„Ø¨ÙŠ ÙŠÙ†Ø¨Ø¶ Ø¨Ø§Ø³Ù…Ùƒ ÙŠØ§ ÙƒØªÙƒÙˆØªÙŠ ğŸ’“",
  "Ø§Ù†ØªÙŠ Ù†Ø¹Ù…Ø© Ø±Ø¨ÙŠ ÙÙŠ Ø­ÙŠØ§ØªÙŠ ğŸŒ¹",
  "Ø¨Ø¹ÙŠÙ†ÙƒÙŠ ÙˆØ¬Ø¯Øª ÙƒÙ„ Ù…Ø¹Ø§Ù†ÙŠ Ø§Ù„Ø­Ø¨ ğŸ˜‰",
  "ÙƒÙ„ ØªÙØ§ØµÙŠÙ„Ùƒ Ø­ÙƒØ§ÙŠØ© Ù„Ø§ ØªØ´Ø¨Ù‡ ØºÙŠØ±Ù‡Ø§ âœ¨",
  "ÙˆØ¬ÙˆØ¯Ùƒ Ù‡Ùˆ Ø§Ù„ÙˆØ·Ù† Ø§Ù„Ø°ÙŠ Ø£Ø±Ø¬Ø¹ Ø¥Ù„ÙŠÙ‡ Ø¯Ø§Ø¦Ù…Ø§Ù‹ ğŸ¡"
];

function showRandomMessage(){
  const msg = loveMessages[Math.floor(Math.random()*loveMessages.length)];
  showMessagePopup(msg);
  playSfx('sfxHeart');
}

function showMessagePopup(msg,timeout=6000){
  // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ popups Ù‚Ø¯ÙŠÙ…Ø©
  document.querySelectorAll('.popup-love').forEach(p=>p.remove());
  const box = document.createElement('div');
  box.className='popup-love';
  box.innerHTML = `<div style="font-size:20px">ğŸ’—</div><div style="flex:1"><p style="margin-bottom:6px">${msg}</p><div style="display:flex;gap:8px;justify-content:flex-end"><button class="btn" onclick="saveMessageFav('${escapeHtml(msg)}', this)">â¤ Ø­ÙØ¸</button><button class="btn" onclick="this.closest('.popup-love').remove()">âœ–</button></div></div>`;
  document.body.appendChild(box);
  setTimeout(()=>{ if(box.parentNode) box.parentNode.removeChild(box); }, timeout);
}

function escapeHtml(s){ return s.replace(/'/g,"&#39;").replace(/"/g,"&quot;"); }

/* Messages panel */
function openMessagesPanel(){ $('messagesPanel').style.display='block'; scrollToSection('messages'); renderMessagesList(); }
function renderMessagesList(){
  const list = $('messagesList'); list.innerHTML='';
  loveMessages.forEach(m=>{
    const row = document.createElement('div');
    row.style.display='flex'; row.style.justifyContent='space-between'; row.style.alignItems='center'; row.style.padding='8px'; row.style.borderBottom='1px dashed rgba(255,255,255,.03)';
    row.innerHTML = `<div>${m}</div><div style="display:flex;gap:8px"><button class="btn" onclick='showMessagePopup("${escapeHtml(m)}")'>Ø¹Ø±Ø¶</button><button class="btn" onclick='saveMessageFav("${escapeHtml(m)}", this)'>â¤</button></div>`;
    list.appendChild(row);
  });
}
function saveMessageFav(msg, btn){
  // save favorite messages locally
  const favs = JSON.parse(localStorage.getItem('loveFavMessages')||'[]');
  if(!favs.includes(msg)) favs.push(msg);
  localStorage.setItem('loveFavMessages', JSON.stringify(favs));
  // small feedback
  if(btn) btn.innerText='âœ…';
  openAchievement(2); // ÙØªØ­ Ø¥Ù†Ø¬Ø§Ø² "Ù…Ù„ÙƒØ© Ø§Ù„Ø­Ø¨" ÙƒÙ…Ø«Ø§Ù„
}

/* ------------------ Surprises (hourly) ------------------ */
const surprises = [
  {type:'message',content:'Ù…ÙØ§Ø¬Ø£Ø©! ğŸ’ Ø§ÙƒØªØ¨ÙŠ Ù„ÙŠ Ø£Ù…Ù†ÙŠØ© ÙˆØ­Ù‚Ù‚ÙŠÙ‡Ø§ Ù„ÙƒÙŠ!'},
  {type:'animation',content:'Ø¶Ø­ÙƒØªÙƒ Ø¬Ù…ÙŠÙ„Ù‡ Ø¬Ø¯Ø§ Ùˆ ØµÙˆØªÙƒ Ø¨ÙŠØºÙ†ÙŠ Ùˆ ÙŠØ¯ÙÙŠÙ†ÙŠğŸ«‚'},
  {type:'question',content:'Ø¨Ø¬Ø¯ Ø§Ù†ØªÙŠ Ù…Ù…ÙŠØ²Ù‡ Ø§ÙˆÙŠ Ø§ÙˆÙŠ ÙŠ Ù…ÙŠğŸ«‚'}
];

function showSurprise(s){
  if(!s) s = surprises[Math.floor(Math.random()*surprises.length)];
  if(s.type==='message') showMessagePopup(s.content);
  else if(s.type==='animation') showMessagePopup(s.content,4000);
  else if(s.type==='question') showMessagePopup(s.content,8000);
}
function triggerSurprise(){ showSurprise(); }

/* start hourly surprises if preference enabled */
setInterval(()=>{
  const prefs = JSON.parse(localStorage.getItem('loveAppPrefs')||'{}');
  if(prefs.notifications) showSurprise();
}, 3600000); // ÙƒÙ„ Ø³Ø§Ø¹Ø©

/* ------------------ Letter editor (save/decorate/share) ------------------ */
function saveLetter(){
  const text = $('loveLetter').value;
  localStorage.setItem('loveSavedLetter', text);
  showMessagePopup('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø±Ø³Ø§Ù„Ø© â¤ï¸',3500);
  playSfx('sfxSuccess');
  openAchievement(1); // ÙØªØ­ Ø¥Ù†Ø¬Ø§Ø² Ø¹Ù†Ø¯ Ø§Ù„Ø­ÙØ¸
}

loadLetter
function decorateLetter(){
  const t = $('loveLetter').value;
  const decorated = 'ğŸ’“ğŸŒ¹ ' + t + ' ğŸŒ¹ğŸ«¶';
  $('loveLetter').value = decorated;
  showMessagePopup('ØªÙ… ØªØ²ÙŠÙŠÙ† Ø§Ù„Ø±Ø³Ø§Ù„Ø©! ğŸ¨',2500);
}
function shareLetter(){
  const text = $('loveLetter').value;
  if(navigator.share){
    navigator.share({text}).catch(()=>{ showMessagePopup('Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙØ´Ù„Øª'); });
  } else {
    // fallback: copy to clipboard
    navigator.clipboard && navigator.clipboard.writeText(text).then(()=>{ showMessagePopup('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø³Ù‡Ù„Ø© âœ¨'); }, ()=>{ showMessagePopup('Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø³Ø§Ù„Ø© ÙŠØ¯ÙˆÙŠÙ‹Ø§'); });
  }
}

/* ØªÙ… Ø­Ø°Ù downloadPages */

/* Add page prompt */
function addPagePrompt(){
  const t = prompt('Ø§ÙƒØªØ¨ÙŠ ØµÙØ­Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø­Ø¨:');
  if(t){ const div = document.createElement('div'); div.className='page'; div.style.padding='14px'; div.style.borderRadius='10px'; div.style.background='rgba(255,255,255,.03)'; div.innerText = t; $('pages').appendChild(div); showMessagePopup('ØªÙ… Ø¥Ø¶Ø§ÙØ© ØµÙØ­Ø© Ø¬Ø¯ÙŠØ¯Ø© ğŸ’Œ',2500); }
}

/* ------------------ Secret messages ------------------ */
const secretMessages = {
  'Mai 12/7/2007':'ğŸ’Œ Ø±Ø³Ø§Ù„ØªÙŠ Ø§Ù„Ø³Ø±ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„ÙƒÙŠ...',
  'Ø­Ø¨ÙŠØ¨ØªÙŠ':'ğŸ’– Ø§Ù†ØªÙŠ Ø³Ø± Ø³Ø¹Ø§Ø¯ØªÙŠ...',
  'Ø·ÙÙ„ØªÙŠ':'ğŸ‘¶ Ø§Ù†ØªÙŠ Ø·ÙÙ„ØªÙŠ Ù„Ù„Ø£Ø¨Ø¯...'
};
function checkSecret(){
  const v = $('secretInput').value.trim();
  if(secretMessages[v]){ showMessagePopup(secretMessages[v],6000); $('secretResult').innerText = 'ØªÙ… ÙØªØ­ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø³Ø±ÙŠØ© âœ¨'; openAchievement(3); }
  else $('secretResult').innerText = 'Ø§Ù„Ø¨Ø§Øµ ØºÙ„Ø· Ø±ÙƒØ²ÙŠ â¤ï¸â€ğŸ”¥';
}

/* ------------------ Love Game (Ù‚Ù„Ø¨-Ø¬Ù…Ø¹) ------------------ */
let gameInterval = null;
let spawnInterval = null;
let gameState = {score:0,time:30,running:false};

function startGame(){
  stopGame();
  gameState.score = 0; gameState.time = 30; gameState.running=true;
  $('score').innerText = '0'; $('timer').innerText = '30'; $('gameArea').innerHTML='';
  const area = $('gameArea');
  // timer
  gameInterval = setInterval(()=>{
    gameState.time--; $('timer').innerText = gameState.time;
    if(gameState.time<=0) finishGame();
  },1000);
  // spawn hearts
  spawnInterval = setInterval(()=>spawnHeart(),700);
  spawnHeart();
  playSfx('sfxClick');
}

function stopGame(){
  gameState.running=false;
  clearInterval(gameInterval); clearInterval(spawnInterval);
}

function spawnHeart(){
  const area = $('gameArea');
  const h = document.createElement('div');
  h.className='game-heart';
  h.innerText = ['ğŸ’–','ğŸ’—','ğŸ’','ğŸ’•'][Math.floor(Math.random()*4)];
  const x = Math.random()*100; const y = Math.random()*100;
  h.style.left = x + '%'; h.style.top = y + '%';
  h.style.fontSize = (18 + Math.random()*22) + 'px';
  h.onclick = function(e){
    gameState.score++; $('score').innerText = gameState.score;
    playSfx('sfxHeart');
    openAchievementIfNeeded(); // maybe unlock
    // pop effect
    this.style.transform = 'scale(1.6)';
    setTimeout(()=>this.remove(),140);
  };
  area.appendChild(h);
  // remove after some time
  setTimeout(()=>{ if(h.parentNode) h.parentNode.removeChild(h); }, 3500 + Math.random()*2500);
}

function finishGame(){
  stopGame();
  const final = gameState.score;
  showMessagePopup('âœ¨ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø© âœ¨ Ù†ØªÙŠØ¬ØªÙƒÙŠ: '+final,6000);
  if(final >= 10) { showMessagePopup('ğŸ‰ ÙØ²Øª! ÙØ²ØªÙŠ Ø¹Ù„Ù‰ Ø´Ø§Ø±Ø©!',40); openAchievement(1); }
}

/* ------------------ Sound effects ------------------ */
function playSfx(id){
  const a = $(id);
  if(!a) return;
  try{ a.currentTime = 0; a.play(); }catch(e){}
}

/* ------------------ Achievements system (Ù…ØªØ¨Ù‚ÙŠ ÙƒÙ€ ÙˆØ¸Ø§Ø¦Ù Ø®Ù„ÙÙŠØ©) ------------------ */
let achievements = [
  {id:1,name:'Ù‚Ù„Ø¨ Ù…Ù† Ø°Ù‡Ø¨',icon:'ğŸ¥‡',unlocked:false},
  {id:2,name:'Ù…Ù„ÙƒØ© Ø§Ù„Ø­Ø¨',icon:'ğŸ‘‘',unlocked:false},
  {id:3,name:' Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠÙ‡',icon:'ğŸ’«',unlocked:false}
];

function loadAchievements(){
  const data = JSON.parse(localStorage.getItem('loveAchievements')||'{}');
  achievements.forEach(a=>{ a.unlocked = !!data[a.id]; });
}
function saveAchievements(){ const data = {}; achievements.forEach(a=>{ if(a.unlocked) data[a.id]=true }); localStorage.setItem('loveAchievements', JSON.stringify(data)); }
function openAchievement(id){
  const ach = achievements.find(x=>x.id===id);
  if(!ach || ach.unlocked) return;
  ach.unlocked = true; saveAchievements();
  const p = document.createElement('div'); p.className='achievement-popup'; p.innerHTML = `<div style="font-weight:800">${ach.icon} ${ach.name}</div><div style="font-size:.9rem">ØªÙ… ÙØªØ­ Ø¥Ù†Ø¬Ø§Ø² Ø¬Ø¯ÙŠØ¯!</div>`;
  document.body.appendChild(p);
  setTimeout(()=>{ if(p.parentNode) p.parentNode.removeChild(p); }, 4200);
}
function openAchievementIfNeeded(){
  if(gameState.score>=5 && !achievements[2].unlocked) openAchievement(3);
}
/* ØªÙ… Ø­Ø°Ù openAchievements */

/* ------------------ Preferences (localStorage) ------------------ */
function savePreferences(){
  const prefs = {musicEnabled: $('prefMusic').checked, notifications: $('prefSurprises').checked};
  localStorage.setItem('loveAppPrefs', JSON.stringify(prefs));
  showMessagePopup('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªÙØ¶ÙŠÙ„Ø§Øª âœ”',2500);
}

/* ------------------ Simple Achieve triggers for demo (Ù…ÙƒØ±Ø±Ø© Ù„ØªØ£Ù…ÙŠÙ† Ø¹Ù…Ù„Ù‡Ø§) ------------------ */
function openAchievement(id){ // override to avoid duplicate decl error
  const ach = achievements.find(x=>x.id===id);
  if(!ach) return;
  if(!ach.unlocked){
    ach.unlocked = true; saveAchievements();
    const p = document.createElement('div'); p.className='achievement-popup'; p.innerHTML = `<div style="font-weight:800">${ach.icon} ${ach.name}</div><div style="font-size:.9rem">ØªÙ… ÙØªØ­ Ø¥Ù†Ø¬Ø§Ø² Ø¬Ø¯ÙŠØ¯!</div>`;
    document.body.appendChild(p);
    setTimeout(()=>{ if(p.parentNode) p.parentNode.removeChild(p); },4200);
  }
}

/* ------------------ Messages of initialization & utilities ------------------ */
function showMessage(text){
  showMessagePopup(text,3000);
}

/* ------------------ Secret / Misc functions: share app, download content... ------------------ */
/* ØªÙ… Ø­Ø°Ù shareApp */

/* ØªÙ… Ø­Ø°Ù Simple PWA/serviceWorker register */

/* ------------------ Utilities: escape and init ------------------ */
function escapeHtml(s){ return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;'); }

/* ------------------ Page load init ------------------ */
document.addEventListener('DOMContentLoaded', function(){
  createFloatingHearts();
  // init placeholder preferences if not exist
  if(!localStorage.getItem('loveAppPrefs')) localStorage.setItem('loveAppPrefs', JSON.stringify({musicEnabled:false,notifications:true}));
});
</script>

</body>
</html>
